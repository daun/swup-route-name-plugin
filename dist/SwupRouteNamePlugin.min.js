(function e(t,n){if(typeof exports==="object"&&typeof module==="object")module.exports=n();else if(typeof define==="function"&&define.amd)define([],n);else if(typeof exports==="object")exports["SwupRouteNamePlugin"]=n();else t["SwupRouteNamePlugin"]=n()})(window,function(){return function(e){var t={};function n(r){if(t[r]){return t[r].exports}var o=t[r]={i:r,l:false,exports:{}};e[r].call(o.exports,o,o.exports,n);o.l=true;return o.exports}n.m=e;n.c=t;n.d=function(e,t,r){if(!n.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:r})}};n.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};n.t=function(e,t){if(t&1)e=n(e);if(t&8)return e;if(t&4&&typeof e==="object"&&e&&e.__esModule)return e;var r=Object.create(null);n.r(r);Object.defineProperty(r,"default",{enumerable:true,value:e});if(t&2&&typeof e!="string")for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r};n.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};n.d(t,"a",t);return t};n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};n.p="";return n(n.s=0)}([function(e,t,n){"use strict";var r=n(1);var o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){e[r]=n[r]}}}return e};var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();var i=n(2);var a=c(i);var u=n(3);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var l=function(e){p(t,e);function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};f(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n.name="SwupRouteNamePlugin";n.addRouteNameClasses=function(){var e=n.swup.transition,t=e.from,r=e.to;var o=n.getRouteName(t);var i=n.getRouteName(r);document.documentElement.classList.add("from-route-"+o);document.documentElement.classList.add("to-route-"+i);n.swup.log("Route: '"+o+"' to '"+i+"'")};n.removeRouteNameClasses=function(){document.documentElement.className.split(" ").filter(function(e){return e.indexOf("from-route-")===0}).forEach(function(e){document.documentElement.classList.remove(e)})};n.options=r({routes:[{name:"any",path:"(.*)"}],pathToRegexpOptions:{},unknownName:"unknown"},e);n.routePatterns=n.options.routes.map(function(e){var t=e.name.replace(/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~\s]/g,"");var o=(0,u.match)(e.path,n.options.pathToRegexpOptions);return r({},e,{name:t,matches:o})});return n}o(t,[{key:"mount",value:function e(){this.swup.on("animationOutStart",this.addRouteNameClasses);this.swup.on("animationInDone",this.removeRouteNameClasses)}},{key:"unmount",value:function e(){this.swup.off("animationOutStart",this.addRouteNameClasses);this.swup.off("animationInDone",this.removeRouteNameClasses)}},{key:"getRouteName",value:function e(t){var n=this.routePatterns.find(function(e){return e.matches(t)})||{};return n.name||this.options.unknownName}}]);return t}(a.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function(){function e(){o(this,e);this.isSwupPlugin=true}r(e,[{key:"mount",value:function e(){}},{key:"unmount",value:function e(){}},{key:"_beforeMount",value:function e(){}},{key:"_afterUnmount",value:function e(){}}]);return e}();t.default=i},function(e,t,n){"use strict";n.r(t);n.d(t,"parse",function(){return o});n.d(t,"compile",function(){return i});n.d(t,"tokensToFunction",function(){return a});n.d(t,"match",function(){return u});n.d(t,"regexpToFunction",function(){return c});n.d(t,"tokensToRegexp",function(){return d});n.d(t,"pathToRegexp",function(){return m});function r(e){var t=[];var n=0;while(n<e.length){var r=e[n];if(r==="*"||r==="+"||r==="?"){t.push({type:"MODIFIER",index:n,value:e[n++]});continue}if(r==="\\"){t.push({type:"ESCAPED_CHAR",index:n++,value:e[n++]});continue}if(r==="{"){t.push({type:"OPEN",index:n,value:e[n++]});continue}if(r==="}"){t.push({type:"CLOSE",index:n,value:e[n++]});continue}if(r===":"){var o="";var i=n+1;while(i<e.length){var a=e.charCodeAt(i);if(a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122||a===95){o+=e[i++];continue}break}if(!o)throw new TypeError("Missing parameter name at ".concat(n));t.push({type:"NAME",index:n,value:o});n=i;continue}if(r==="("){var u=1;var c="";var i=n+1;if(e[i]==="?"){throw new TypeError('Pattern cannot start with "?" at '.concat(i))}while(i<e.length){if(e[i]==="\\"){c+=e[i++]+e[i++];continue}if(e[i]===")"){u--;if(u===0){i++;break}}else if(e[i]==="("){u++;if(e[i+1]!=="?"){throw new TypeError("Capturing groups are not allowed at ".concat(i))}}c+=e[i++]}if(u)throw new TypeError("Unbalanced pattern at ".concat(n));if(!c)throw new TypeError("Missing pattern at ".concat(n));t.push({type:"PATTERN",index:n,value:c});n=i;continue}t.push({type:"CHAR",index:n,value:e[n++]})}t.push({type:"END",index:n,value:""});return t}function o(e,t){if(t===void 0){t={}}var n=r(e);var o=t.prefixes,i=o===void 0?"./":o;var a="[^".concat(f(t.delimiter||"/#?"),"]+?");var u=[];var c=0;var s=0;var p="";var l=function(e){if(s<n.length&&n[s].type===e)return n[s++].value};var v=function(e){var t=l(e);if(t!==undefined)return t;var r=n[s],o=r.type,i=r.index;throw new TypeError("Unexpected ".concat(o," at ").concat(i,", expected ").concat(e))};var d=function(){var e="";var t;while(t=l("CHAR")||l("ESCAPED_CHAR")){e+=t}return e};while(s<n.length){var m=l("CHAR");var h=l("NAME");var y=l("PATTERN");if(h||y){var w=m||"";if(i.indexOf(w)===-1){p+=w;w=""}if(p){u.push(p);p=""}u.push({name:h||c++,prefix:w,suffix:"",pattern:y||a,modifier:l("MODIFIER")||""});continue}var g=m||l("ESCAPED_CHAR");if(g){p+=g;continue}if(p){u.push(p);p=""}var x=l("OPEN");if(x){var w=d();var b=l("NAME")||"";var E=l("PATTERN")||"";var O=d();v("CLOSE");u.push({name:b||(E?c++:""),pattern:b&&!E?a:E,prefix:w,suffix:O,modifier:l("MODIFIER")||""});continue}v("END")}return u}function i(e,t){return a(o(e,t),t)}function a(e,t){if(t===void 0){t={}}var n=s(t);var r=t.encode,o=r===void 0?function(e){return e}:r,i=t.validate,a=i===void 0?true:i;var u=e.map(function(e){if(typeof e==="object"){return new RegExp("^(?:".concat(e.pattern,")$"),n)}});return function(t){var n="";for(var r=0;r<e.length;r++){var i=e[r];if(typeof i==="string"){n+=i;continue}var c=t?t[i.name]:undefined;var f=i.modifier==="?"||i.modifier==="*";var s=i.modifier==="*"||i.modifier==="+";if(Array.isArray(c)){if(!s){throw new TypeError('Expected "'.concat(i.name,'" to not repeat, but got an array'))}if(c.length===0){if(f)continue;throw new TypeError('Expected "'.concat(i.name,'" to not be empty'))}for(var p=0;p<c.length;p++){var l=o(c[p],i);if(a&&!u[r].test(l)){throw new TypeError('Expected all "'.concat(i.name,'" to match "').concat(i.pattern,'", but got "').concat(l,'"'))}n+=i.prefix+l+i.suffix}continue}if(typeof c==="string"||typeof c==="number"){var l=o(String(c),i);if(a&&!u[r].test(l)){throw new TypeError('Expected "'.concat(i.name,'" to match "').concat(i.pattern,'", but got "').concat(l,'"'))}n+=i.prefix+l+i.suffix;continue}if(f)continue;var v=s?"an array":"a string";throw new TypeError('Expected "'.concat(i.name,'" to be ').concat(v))}return n}}function u(e,t){var n=[];var r=m(e,n,t);return c(r,n,t)}function c(e,t,n){if(n===void 0){n={}}var r=n.decode,o=r===void 0?function(e){return e}:r;return function(n){var r=e.exec(n);if(!r)return false;var i=r[0],a=r.index;var u=Object.create(null);var c=function(e){if(r[e]===undefined)return"continue";var n=t[e-1];if(n.modifier==="*"||n.modifier==="+"){u[n.name]=r[e].split(n.prefix+n.suffix).map(function(e){return o(e,n)})}else{u[n.name]=o(r[e],n)}};for(var f=1;f<r.length;f++){c(f)}return{path:i,index:a,params:u}}}function f(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function s(e){return e&&e.sensitive?"":"i"}function p(e,t){if(!t)return e;var n=/\((?:\?<(.*?)>)?(?!\?)/g;var r=0;var o=n.exec(e.source);while(o){t.push({name:o[1]||r++,prefix:"",suffix:"",modifier:"",pattern:""});o=n.exec(e.source)}return e}function l(e,t,n){var r=e.map(function(e){return m(e,t,n).source});return new RegExp("(?:".concat(r.join("|"),")"),s(n))}function v(e,t,n){return d(o(e,n),t,n)}function d(e,t,n){if(n===void 0){n={}}var r=n.strict,o=r===void 0?false:r,i=n.start,a=i===void 0?true:i,u=n.end,c=u===void 0?true:u,p=n.encode,l=p===void 0?function(e){return e}:p,v=n.delimiter,d=v===void 0?"/#?":v,m=n.endsWith,h=m===void 0?"":m;var y="[".concat(f(h),"]|$");var w="[".concat(f(d),"]");var g=a?"^":"";for(var x=0,b=e;x<b.length;x++){var E=b[x];if(typeof E==="string"){g+=f(l(E))}else{var O=f(l(E.prefix));var R=f(l(E.suffix));if(E.pattern){if(t)t.push(E);if(O||R){if(E.modifier==="+"||E.modifier==="*"){var P=E.modifier==="*"?"?":"";g+="(?:".concat(O,"((?:").concat(E.pattern,")(?:").concat(R).concat(O,"(?:").concat(E.pattern,"))*)").concat(R,")").concat(P)}else{g+="(?:".concat(O,"(").concat(E.pattern,")").concat(R,")").concat(E.modifier)}}else{if(E.modifier==="+"||E.modifier==="*"){g+="((?:".concat(E.pattern,")").concat(E.modifier,")")}else{g+="(".concat(E.pattern,")").concat(E.modifier)}}}else{g+="(?:".concat(O).concat(R,")").concat(E.modifier)}}}if(c){if(!o)g+="".concat(w,"?");g+=!n.endsWith?"$":"(?=".concat(y,")")}else{var T=e[e.length-1];var _=typeof T==="string"?w.indexOf(T[T.length-1])>-1:T===undefined;if(!o){g+="(?:".concat(w,"(?=").concat(y,"))?")}if(!_){g+="(?=".concat(w,"|").concat(y,")")}}return new RegExp(g,s(n))}function m(e,t,n){if(e instanceof RegExp)return p(e,t);if(Array.isArray(e))return l(e,t,n);return v(e,t,n)}}])});
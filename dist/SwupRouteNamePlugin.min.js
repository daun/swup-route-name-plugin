(function e(t,n){if(typeof exports==="object"&&typeof module==="object")module.exports=n();else if(typeof define==="function"&&define.amd)define([],n);else if(typeof exports==="object")exports["SwupRouteNamePlugin"]=n();else t["SwupRouteNamePlugin"]=n()})(window,function(){return function(e){var t={};function n(r){if(t[r]){return t[r].exports}var o=t[r]={i:r,l:false,exports:{}};e[r].call(o.exports,o,o.exports,n);o.l=true;return o.exports}n.m=e;n.c=t;n.d=function(e,t,r){if(!n.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:r})}};n.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};n.t=function(e,t){if(t&1)e=n(e);if(t&8)return e;if(t&4&&typeof e==="object"&&e&&e.__esModule)return e;var r=Object.create(null);n.r(r);Object.defineProperty(r,"default",{enumerable:true,value:e});if(t&2&&typeof e!="string")for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r};n.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};n.d(t,"a",t);return t};n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};n.p="";return n(n.s=0)}([function(e,t,n){"use strict";var r=n(1);var o=a(r);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){e[r]=n[r]}}}return e};var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();var a=n(2);var i=s(a);var u=n(3);var c=n(4);var f=s(c);function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++){n[t]=e[t]}return n}else{return Array.from(e)}}function p(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function v(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var m=function(e){v(t,e);function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};p(this,t);var n=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n.name="SwupRouteNamePlugin";n.addPathClasses=function(){var e=n.swup.transition,t=e.from,r=e.to;var o=n.getPathName(t);var a=n.getPathName(r);document.documentElement.classList.add("from-"+o);document.documentElement.classList.add("to-"+a)};n.addRouteClasses=function(){var e=n.swup.transition,t=e.from,r=e.to;var o=n.options.unknownName;var a=n.getRouteName(t);var i=n.getRouteName(r);if(a||o){document.documentElement.classList.add("from-route-"+(a||o))}if(i||o){document.documentElement.classList.add("to-route-"+(i||o))}if(a&&a===i){document.documentElement.classList.add("to-same-route")}n.swup.log("Route: '"+(a||o||"(unknown)")+"' to '"+(i||o||"(unknown)")+"'")};n.removeClasses=function(){var e;var t=document.documentElement.className.split(" ").filter(function(e){return e.startsWith("from-")});(e=document.documentElement.classList).remove.apply(e,l(t))};n.options=r({routes:[{name:"any",path:"(.*)"}],pathToRegexpOptions:{},unknownName:"unknown"},e);n.compileRoutePatterns();return n}o(t,[{key:"mount",value:function e(){this.swup.on("animationOutStart",this.addPathClasses);this.swup.on("animationOutStart",this.addRouteClasses);this.swup.on("animationInDone",this.removeClasses)}},{key:"unmount",value:function e(){this.swup.off("animationOutStart",this.addPathClasses);this.swup.off("animationOutStart",this.addRouteClasses);this.swup.off("animationInDone",this.removeClasses)}},{key:"compileRoutePatterns",value:function e(){var t=this;this.routePatterns=this.options.routes.map(function(e){var n=e.name.replace(/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~\s]/g,"");var o=(0,u.match)(e.path,t.options.pathToRegexpOptions);return r({},e,{name:n,matches:o})})}},{key:"getRouteName",value:function e(t){var n=this.routePatterns.find(function(e){return e.matches(t)})||{},r=n.name;return r||null}},{key:"getPathName",value:function e(t){return(0,f.default)(t,"homepage")}}]);return t}(i.default);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var a=function(){function e(){o(this,e);this.isSwupPlugin=true}r(e,[{key:"mount",value:function e(){}},{key:"unmount",value:function e(){}},{key:"_beforeMount",value:function e(){}},{key:"_afterUnmount",value:function e(){}}]);return e}();t.default=a},function(e,t,n){"use strict";n.r(t);n.d(t,"parse",function(){return o});n.d(t,"compile",function(){return a});n.d(t,"tokensToFunction",function(){return i});n.d(t,"match",function(){return u});n.d(t,"regexpToFunction",function(){return c});n.d(t,"tokensToRegexp",function(){return v});n.d(t,"pathToRegexp",function(){return m});function r(e){var t=[];var n=0;while(n<e.length){var r=e[n];if(r==="*"||r==="+"||r==="?"){t.push({type:"MODIFIER",index:n,value:e[n++]});continue}if(r==="\\"){t.push({type:"ESCAPED_CHAR",index:n++,value:e[n++]});continue}if(r==="{"){t.push({type:"OPEN",index:n,value:e[n++]});continue}if(r==="}"){t.push({type:"CLOSE",index:n,value:e[n++]});continue}if(r===":"){var o="";var a=n+1;while(a<e.length){var i=e.charCodeAt(a);if(i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122||i===95){o+=e[a++];continue}break}if(!o)throw new TypeError("Missing parameter name at ".concat(n));t.push({type:"NAME",index:n,value:o});n=a;continue}if(r==="("){var u=1;var c="";var a=n+1;if(e[a]==="?"){throw new TypeError('Pattern cannot start with "?" at '.concat(a))}while(a<e.length){if(e[a]==="\\"){c+=e[a++]+e[a++];continue}if(e[a]===")"){u--;if(u===0){a++;break}}else if(e[a]==="("){u++;if(e[a+1]!=="?"){throw new TypeError("Capturing groups are not allowed at ".concat(a))}}c+=e[a++]}if(u)throw new TypeError("Unbalanced pattern at ".concat(n));if(!c)throw new TypeError("Missing pattern at ".concat(n));t.push({type:"PATTERN",index:n,value:c});n=a;continue}t.push({type:"CHAR",index:n,value:e[n++]})}t.push({type:"END",index:n,value:""});return t}function o(e,t){if(t===void 0){t={}}var n=r(e);var o=t.prefixes,a=o===void 0?"./":o;var i="[^".concat(f(t.delimiter||"/#?"),"]+?");var u=[];var c=0;var s=0;var l="";var p=function(e){if(s<n.length&&n[s].type===e)return n[s++].value};var d=function(e){var t=p(e);if(t!==undefined)return t;var r=n[s],o=r.type,a=r.index;throw new TypeError("Unexpected ".concat(o," at ").concat(a,", expected ").concat(e))};var v=function(){var e="";var t;while(t=p("CHAR")||p("ESCAPED_CHAR")){e+=t}return e};while(s<n.length){var m=p("CHAR");var h=p("NAME");var y=p("PATTERN");if(h||y){var g=m||"";if(a.indexOf(g)===-1){l+=g;g=""}if(l){u.push(l);l=""}u.push({name:h||c++,prefix:g,suffix:"",pattern:y||i,modifier:p("MODIFIER")||""});continue}var w=m||p("ESCAPED_CHAR");if(w){l+=w;continue}if(l){u.push(l);l=""}var x=p("OPEN");if(x){var g=v();var b=p("NAME")||"";var E=p("PATTERN")||"";var O=v();d("CLOSE");u.push({name:b||(E?c++:""),pattern:b&&!E?i:E,prefix:g,suffix:O,modifier:p("MODIFIER")||""});continue}d("END")}return u}function a(e,t){return i(o(e,t),t)}function i(e,t){if(t===void 0){t={}}var n=s(t);var r=t.encode,o=r===void 0?function(e){return e}:r,a=t.validate,i=a===void 0?true:a;var u=e.map(function(e){if(typeof e==="object"){return new RegExp("^(?:".concat(e.pattern,")$"),n)}});return function(t){var n="";for(var r=0;r<e.length;r++){var a=e[r];if(typeof a==="string"){n+=a;continue}var c=t?t[a.name]:undefined;var f=a.modifier==="?"||a.modifier==="*";var s=a.modifier==="*"||a.modifier==="+";if(Array.isArray(c)){if(!s){throw new TypeError('Expected "'.concat(a.name,'" to not repeat, but got an array'))}if(c.length===0){if(f)continue;throw new TypeError('Expected "'.concat(a.name,'" to not be empty'))}for(var l=0;l<c.length;l++){var p=o(c[l],a);if(i&&!u[r].test(p)){throw new TypeError('Expected all "'.concat(a.name,'" to match "').concat(a.pattern,'", but got "').concat(p,'"'))}n+=a.prefix+p+a.suffix}continue}if(typeof c==="string"||typeof c==="number"){var p=o(String(c),a);if(i&&!u[r].test(p)){throw new TypeError('Expected "'.concat(a.name,'" to match "').concat(a.pattern,'", but got "').concat(p,'"'))}n+=a.prefix+p+a.suffix;continue}if(f)continue;var d=s?"an array":"a string";throw new TypeError('Expected "'.concat(a.name,'" to be ').concat(d))}return n}}function u(e,t){var n=[];var r=m(e,n,t);return c(r,n,t)}function c(e,t,n){if(n===void 0){n={}}var r=n.decode,o=r===void 0?function(e){return e}:r;return function(n){var r=e.exec(n);if(!r)return false;var a=r[0],i=r.index;var u=Object.create(null);var c=function(e){if(r[e]===undefined)return"continue";var n=t[e-1];if(n.modifier==="*"||n.modifier==="+"){u[n.name]=r[e].split(n.prefix+n.suffix).map(function(e){return o(e,n)})}else{u[n.name]=o(r[e],n)}};for(var f=1;f<r.length;f++){c(f)}return{path:a,index:i,params:u}}}function f(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function s(e){return e&&e.sensitive?"":"i"}function l(e,t){if(!t)return e;var n=/\((?:\?<(.*?)>)?(?!\?)/g;var r=0;var o=n.exec(e.source);while(o){t.push({name:o[1]||r++,prefix:"",suffix:"",modifier:"",pattern:""});o=n.exec(e.source)}return e}function p(e,t,n){var r=e.map(function(e){return m(e,t,n).source});return new RegExp("(?:".concat(r.join("|"),")"),s(n))}function d(e,t,n){return v(o(e,n),t,n)}function v(e,t,n){if(n===void 0){n={}}var r=n.strict,o=r===void 0?false:r,a=n.start,i=a===void 0?true:a,u=n.end,c=u===void 0?true:u,l=n.encode,p=l===void 0?function(e){return e}:l,d=n.delimiter,v=d===void 0?"/#?":d,m=n.endsWith,h=m===void 0?"":m;var y="[".concat(f(h),"]|$");var g="[".concat(f(v),"]");var w=i?"^":"";for(var x=0,b=e;x<b.length;x++){var E=b[x];if(typeof E==="string"){w+=f(p(E))}else{var O=f(p(E.prefix));var P=f(p(E.suffix));if(E.pattern){if(t)t.push(E);if(O||P){if(E.modifier==="+"||E.modifier==="*"){var R=E.modifier==="*"?"?":"";w+="(?:".concat(O,"((?:").concat(E.pattern,")(?:").concat(P).concat(O,"(?:").concat(E.pattern,"))*)").concat(P,")").concat(R)}else{w+="(?:".concat(O,"(").concat(E.pattern,")").concat(P,")").concat(E.modifier)}}else{if(E.modifier==="+"||E.modifier==="*"){w+="((?:".concat(E.pattern,")").concat(E.modifier,")")}else{w+="(".concat(E.pattern,")").concat(E.modifier)}}}else{w+="(?:".concat(O).concat(P,")").concat(E.modifier)}}}if(c){if(!o)w+="".concat(g,"?");w+=!n.endsWith?"$":"(?=".concat(y,")")}else{var _=e[e.length-1];var T=typeof _==="string"?g.indexOf(_[_.length-1])>-1:_===undefined;if(!o){w+="(?:".concat(g,"(?=").concat(y,"))?")}if(!T){w+="(?=".concat(g,"|").concat(y,")")}}return new RegExp(w,s(n))}function m(e,t,n){if(e instanceof RegExp)return l(e,t);if(Array.isArray(e))return p(e,t,n);return d(e,t,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function e(t){var n=t.toString().toLowerCase().replace(/\s+/g,"-").replace(/\//g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"");if(n[0]==="/")n=n.splice(1);if(n==="")n="homepage";return n};t.default=r}])});